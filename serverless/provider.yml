runtime: python3.7
memorySize: 1024
region: ${opt:region, 'eu-west-1'}
stage: ${opt:stage, 'dev'}
deploymentBucket:
  name: ${self:custom.deploymentBucket.${self:provider.stage}, self:custom.deploymentBucket.dev}
  serverSideEncryption: AES256
deploymentPrefix: deploy
rolePermissionsBoundary: "arn:aws:iam::#{AWS::AccountId}:policy/oslokommune/oslokommune-boundary"
iamManagedPolicies:
  - 'arn:aws:iam::#{AWS::AccountId}:policy/pipeline_component_policy'
  - 'arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess'
tags:
  GIT_REV: ${git:branch}:${git:sha1}
  VERSION: ${self:custom.version}
environment:
  BUCKET_NAME: ok-origo-dataplatform-${self:provider.stage}
  GIT_REV: ${git:branch}:${git:sha1}
  SERVICE_NAME: ${self:service}
  STAGE: ${self:provider.stage}
  VERSION: ${self:custom.version}
